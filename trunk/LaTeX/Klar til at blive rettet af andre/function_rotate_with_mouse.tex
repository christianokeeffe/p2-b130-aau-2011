\section{Rotate drawing with the mouse}

To make it easier for the user to see exactly where and how the various items are packed within the suitcase, it is necessary with some kind of rotate function. As described in section \fxfatal{ref til draw_cube}, the point which the suitcase rotates around is residing within the suitcase, so that the suitcase is able to rotate around itself. When the user moves the mouse over the form where the drawing resides, an event is triggered. The event triggers the function called MyMouseMove, which receives two input parameters, an 'object' "sender" and a 'MouseEventArgs' "e". The MouseEventArgs contains all the information regarding the mouse which is needed to perform certain checks. The MyMouseMove function is called whenever the user moves the mouse on the form. But the function should only do something when one of the mouse button is clicked while the mouse is moved. Therefore the MyMouseMove contains two conditional statements. The first condition checks if the left mouse button is currently pressed, and the other condition checks if the right mouse button is currently pressed.

If the left mouse button is pressed, the function first defines some variables that are to be used later. The icon of the cursor is also changes to be the "hand" icon, representing that the drawing is rotated. Next the function gets the current x- and y-coordinates of the mouse. The coordinates of the mouse when the click occurred is now subtracted from the current mouse coordinates. The result is how much the drawing should be rotated. But if the result is just passed as how much the drawing should rotate, it would be uncontrollable, therefore it is divided by 15, and then by a variable called rotatesensitive. The rotatesensitive contains the current value of the scrollbar on the form, where the user can set the sensitive of the rotate. Next the result is passed as a new XRotate for the x-coordinates and a new YRotate for the y-coordinate. This can be seen on Listing \ref{uastupidhoeuauastudidhoe}

\kode{The function that handles the rotating with the mouse}{uastupidhoeuauastudidhoe}{mouserotate.txt}

 This is what actually creates the rotate  next time the drawing is invalidated (refreshed) which is what happens next. Just before the invalidate is called, the coordinates from when the mouse was first clicked, is set to be the current mouse coordinates. This is creates an even rotate, else the drawing would rotate faster and faster the farther the user moved the mouse from where it was first clicked. 